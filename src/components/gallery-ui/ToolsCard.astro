---
import { ExternalLink } from "lucide-react";

interface Props {
    data: {
        name: string;
        link: string;
        image?: string;
    };
    index: number;
}

const { data, index } = Astro.props;
const { name, link, image } = data;

const animationDelay = `${index * 0.06}s`;
---

<div
    class="group flex flex-col gap-3 opacity-0 translate-y-8 animate-fade-in-up"
    style={{ animationDelay }}
    role="article"
    aria-label={`tool card ${name}`}
>
    {/* Image Container with hover effect */}
    <a
        href={link}
        target="_blank"
        rel="noreferrer"
        class="block overflow-hidden rounded-xl bg-muted relative aspect-video shadow-sm transition-all hover:shadow-md"
    >
        <img
            src={image}
            alt={name}
            class="h-full w-full object-cover transition-transform duration-300 md:group-hover:scale-105"
            loading="lazy"
        />
    </a>
    {/* Content Below */}
    <div class="flex items-start justify-between gap-4">
        <div class="space-y-1">
            <h3
                class="font-semibold text-lg leading-tight group-hover:underline decoration-primary/50 underline-offset-4 decoration-2 transition-all"
            >
                {name}
            </h3>
        </div>
        <a
            href={link}
            target="_blank"
            rel="noreferrer"
            class="shrink-0 text-muted-foreground hover:text-primary transition-colors p-1"
        >
            <ExternalLink className="h-5 w-5" />
            <span class="sr-only">Open Project</span>
        </a>
    </div>
</div>

<style>
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(2rem);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in-up {
        animation: fadeInUp 0.4s ease-out forwards;
    }
</style>
